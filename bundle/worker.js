(()=>{var t,e,r,n=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,a=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,s=((t,e)=>function(){return e||(0,t[u(t)[0]])((e={exports:{}}).exports,e),e.exports})({"node_modules/big-integer/BigInteger.js"(t,e){var r=function(t){"use strict";var e=l(0x20000000000000),n="0123456789abcdefghijklmnopqrstuvwxyz",o="function"==typeof BigInt;function i(t,e,r,n){return void 0===t?i[0]:void 0!==e&&(10!=+e||r)?G(t,e,r,n):R(t)}function u(t,e){this.value=t,this.sign=e,this.isSmall=!1}function a(t){this.value=t,this.sign=t<0,this.isSmall=!0}function p(t){this.value=t}function s(t){return -0x20000000000000<t&&t<0x20000000000000}function l(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function f(t){c(t);var r=t.length;if(r<4&&0>J(t,e))switch(r){case 0:return 0;case 1:return t[0];case 2:return t[0]+1e7*t[1];default:return t[0]+(t[1]+1e7*t[2])*1e7}return t}function c(t){for(var e=t.length;0===t[--e];);t.length=e+1}function v(t){for(var e=Array(t),r=-1;++r<t;)e[r]=0;return e}function h(t){return t>0?Math.floor(t):Math.ceil(t)}function g(t,e){var r,n,o=t.length,i=e.length,u=Array(o),a=0;for(n=0;n<i;n++)a=+((r=t[n]+e[n]+a)>=1e7),u[n]=r-1e7*a;for(;n<o;)a=+(1e7===(r=t[n]+a)),u[n++]=r-1e7*a;return a>0&&u.push(a),u}function y(t,e){return t.length>=e.length?g(t,e):g(e,t)}function d(t,e){var r,n,o=t.length,i=Array(o);for(n=0;n<o;n++)e=Math.floor((r=t[n]-1e7+e)/1e7),i[n]=r-1e7*e,e+=1;for(;e>0;)i[n++]=e%1e7,e=Math.floor(e/1e7);return i}function m(t,e){var r,n,o=t.length,i=e.length,u=Array(o),a=0;for(r=0;r<i;r++)(n=t[r]-a-e[r])<0?(n+=1e7,a=1):a=0,u[r]=n;for(r=i;r<o;r++){if((n=t[r]-a)<0)n+=1e7;else{u[r++]=n;break}u[r]=n}for(;r<o;r++)u[r]=t[r];return c(u),u}function _(t,e,r){var n,o,i=t.length,p=Array(i),s=-e;for(n=0;n<i;n++)s=Math.floor((o=t[n]+s)/1e7),o%=1e7,p[n]=o<0?o+1e7:o;return"number"==typeof(p=f(p))?(r&&(p=-p),new a(p)):new u(p,r)}function b(t,e){var r,n,o,i,u=t.length,a=e.length,p=v(u+a);for(o=0;o<u;++o){i=t[o];for(var s=0;s<a;++s)n=Math.floor((r=i*e[s]+p[o+s])/1e7),p[o+s]=r-1e7*n,p[o+s+1]+=n}return c(p),p}function w(t,e){var r,n,o=t.length,i=Array(o),u=0;for(n=0;n<o;n++)u=Math.floor((r=t[n]*e+u)/1e7),i[n]=r-1e7*u;for(;u>0;)i[n++]=u%1e7,u=Math.floor(u/1e7);return i}function N(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function E(t,e,r){return t<1e7?new u(w(e,t),r):new u(b(e,l(t)),r)}function S(t){var e,r,n,o,i=t.length,u=v(i+i);for(n=0;n<i;n++){r=0-(o=t[n])*o;for(var a=n;a<i;a++)r=Math.floor((e=o*t[a]*2+u[n+a]+r)/1e7),u[n+a]=e-1e7*r;u[n+i]=r}return c(u),u}function q(t,e){var r,n,o,i,u=t.length,a=v(u);for(o=0,r=u-1;r>=0;--r)n=h((i=1e7*o+t[r])/e),o=i-n*e,a[r]=0|n;return[a,0|o]}function M(t,e){var r,n,s=R(e);if(o)return[new p(t.value/s.value),new p(t.value%s.value)];var g=t.value,y=s.value;if(0===y)throw Error("Cannot divide by zero");if(t.isSmall)return s.isSmall?[new a(h(g/y)),new a(g%y)]:[i[0],t];if(s.isSmall){if(1===y)return[t,i[0]];if(-1==y)return[t.negate(),i[0]];var d=Math.abs(y);if(d<1e7){r=f((n=q(g,d))[0]);var _=n[1];return(t.sign&&(_=-_),"number"==typeof r)?(t.sign!==s.sign&&(r=-r),[new a(r),new a(_)]):[new u(r,t.sign!==s.sign),new a(_)]}y=l(d)}var b=J(g,y);if(-1===b)return[i[0],t];if(0===b)return[i[t.sign===s.sign?1:-1],i[0]];r=(n=g.length+y.length<=200?function(t,e){var r,n,o,i,u,a,p,s=t.length,l=e.length,c=v(e.length),h=e[l-1],g=Math.ceil(1e7/(2*h)),y=w(t,g),d=w(e,g);for(y.length<=s&&y.push(0),d.push(0),h=d[l-1],n=s-l;n>=0;n--){for(r=1e7-1,y[n+l]!==h&&(r=Math.floor((1e7*y[n+l]+y[n+l-1])/h)),o=0,i=0,a=d.length,u=0;u<a;u++)o+=r*d[u],p=Math.floor(o/1e7),i+=y[n+u]-(o-1e7*p),o=p,i<0?(y[n+u]=i+1e7,i=-1):(y[n+u]=i,i=0);for(;0!==i;){for(r-=1,o=0,u=0;u<a;u++)(o+=y[n+u]-1e7+d[u])<0?(y[n+u]=o+1e7,o=0):(y[n+u]=o,o=1);i+=o}c[n]=r}return y=q(y,g)[0],[f(c),f(y)]}(g,y):function(t,e){for(var r,n,o,i,u,a=t.length,p=e.length,s=[],l=[];a;){if(l.unshift(t[--a]),c(l),0>J(l,e)){s.push(0);continue}n=l.length,o=1e7*l[n-1]+l[n-2],i=1e7*e[p-1]+e[p-2],n>p&&(o=(o+1)*1e7),r=Math.ceil(o/i);do{if(0>=J(u=w(e,r),l))break;r--}while(r)s.push(r),l=m(l,u)}return s.reverse(),[f(s),f(l)]}(g,y))[0];var N=t.sign!==s.sign,E=n[1],S=t.sign;return"number"==typeof r?(N&&(r=-r),r=new a(r)):r=new u(r,N),"number"==typeof E?(S&&(E=-E),E=new a(E)):E=new u(E,S),[r,E]}function J(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function x(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function O(t,e){for(var n,o,i,u=t.prev(),a=u,p=0;a.isEven();)a=a.divide(2),p++;t:for(o=0;o<e.length;o++)if(!t.lesser(e[o])&&!((i=r(e[o]).modPow(a,t)).isUnit()||i.equals(u))){for(n=p-1;0!=n&&!(i=i.square().mod(t)).isUnit();n--)if(i.equals(u))continue t;return!1}return!0}u.prototype=Object.create(i.prototype),a.prototype=Object.create(i.prototype),p.prototype=Object.create(i.prototype),u.prototype.add=function(t){var e=R(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new u(d(r,Math.abs(n)),this.sign):new u(y(r,n),this.sign)},u.prototype.plus=u.prototype.add,a.prototype.add=function(t){var e=R(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(s(r+n))return new a(r+n);n=l(Math.abs(n))}return new u(d(n,Math.abs(r)),r<0)},a.prototype.plus=a.prototype.add,p.prototype.add=function(t){return new p(this.value+R(t).value)},p.prototype.plus=p.prototype.add,u.prototype.subtract=function(t){var e,r,n=R(t);if(this.sign!==n.sign)return this.add(n.negate());var o=this.value,i=n.value;return n.isSmall?_(o,Math.abs(i),this.sign):(e=this.sign,(J(o,i)>=0?r=m(o,i):(r=m(i,o),e=!e),"number"==typeof(r=f(r)))?(e&&(r=-r),new a(r)):new u(r,e))},u.prototype.minus=u.prototype.subtract,a.prototype.subtract=function(t){var e=R(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new a(r-n):_(n,Math.abs(r),r>=0)},a.prototype.minus=a.prototype.subtract,p.prototype.subtract=function(t){return new p(this.value-R(t).value)},p.prototype.minus=p.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},a.prototype.negate=function(){var t=this.sign,e=new a(-this.value);return e.sign=!t,e},p.prototype.negate=function(){return new p(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},a.prototype.abs=function(){return new a(Math.abs(this.value))},p.prototype.abs=function(){return new p(this.value>=0?this.value:-this.value)},u.prototype.multiply=function(t){var e,r,n,o=R(t),a=this.value,p=o.value,s=this.sign!==o.sign;if(o.isSmall){if(0===p)return i[0];if(1===p)return this;if(-1===p)return this.negate();if((n=Math.abs(p))<1e7)return new u(w(a,n),s);p=l(n)}return -.012*(e=a.length)-.012*(r=p.length)+15e-6*e*r>0?new u(function t(e,r){var n=Math.max(e.length,r.length);if(n<=30)return b(e,r);n=Math.ceil(n/2);var o=e.slice(n),i=e.slice(0,n),u=r.slice(n),a=r.slice(0,n),p=t(i,a),s=t(o,u),l=t(y(i,o),y(a,u)),f=y(y(p,N(m(m(l,p),s),n)),N(s,2*n));return c(f),f}(a,p),s):new u(b(a,p),s)},u.prototype.times=u.prototype.multiply,a.prototype._multiplyBySmall=function(t){return s(t.value*this.value)?new a(t.value*this.value):E(Math.abs(t.value),l(Math.abs(this.value)),this.sign!==t.sign)},u.prototype._multiplyBySmall=function(t){return 0===t.value?i[0]:1===t.value?this:-1===t.value?this.negate():E(Math.abs(t.value),this.value,this.sign!==t.sign)},a.prototype.multiply=function(t){return R(t)._multiplyBySmall(this)},a.prototype.times=a.prototype.multiply,p.prototype.multiply=function(t){return new p(this.value*R(t).value)},p.prototype.times=p.prototype.multiply,u.prototype.square=function(){return new u(S(this.value),!1)},a.prototype.square=function(){var t=this.value*this.value;return s(t)?new a(t):new u(S(l(Math.abs(this.value))),!1)},p.prototype.square=function(t){return new p(this.value*this.value)},u.prototype.divmod=function(t){var e=M(this,t);return{quotient:e[0],remainder:e[1]}},p.prototype.divmod=a.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(t){return M(this,t)[0]},p.prototype.over=p.prototype.divide=function(t){return new p(this.value/R(t).value)},a.prototype.over=a.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(t){return M(this,t)[1]},p.prototype.mod=p.prototype.remainder=function(t){return new p(this.value%R(t).value)},a.prototype.remainder=a.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(t){var e,r,n,o=R(t),u=this.value,p=o.value;if(0===p)return i[1];if(0===u)return i[0];if(1===u)return i[1];if(-1===u)return o.isEven()?i[1]:i[-1];if(o.sign)return i[0];if(!o.isSmall)throw Error("The exponent "+o.toString()+" is too large.");if(this.isSmall&&s(e=Math.pow(u,p)))return new a(h(e));for(r=this,n=i[1];!0&p&&(n=n.times(r),--p),0!==p;)p/=2,r=r.square();return n},a.prototype.pow=u.prototype.pow,p.prototype.pow=function(t){var e=R(t),r=this.value,n=e.value,o=BigInt(0),u=BigInt(1),a=BigInt(2);if(n===o)return i[1];if(r===o)return i[0];if(r===u)return i[1];if(r===BigInt(-1))return e.isEven()?i[1]:i[-1];if(e.isNegative())return new p(o);for(var s=this,l=i[1];(n&u)===u&&(l=l.times(s),--n),n!==o;)n/=a,s=s.square();return l},u.prototype.modPow=function(t,e){if(t=R(t),(e=R(e)).isZero())throw Error("Cannot take modPow with modulus 0");var r=i[1],n=this.mod(e);for(t.isNegative()&&(t=t.multiply(i[-1]),n=n.modInv(e));t.isPositive();){if(n.isZero())return i[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},p.prototype.modPow=a.prototype.modPow=u.prototype.modPow,u.prototype.compareAbs=function(t){var e=R(t),r=this.value,n=e.value;return e.isSmall?1:J(r,n)},a.prototype.compareAbs=function(t){var e=R(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},p.prototype.compareAbs=function(t){var e=this.value,r=R(t).value;return(e=e>=0?e:-e)===(r=r>=0?r:-r)?0:e>r?1:-1},u.prototype.compare=function(t){if(t===1/0)return -1;if(t===-1/0)return 1;var e=R(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:J(r,n)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,a.prototype.compare=function(t){if(t===1/0)return -1;if(t===-1/0)return 1;var e=R(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},a.prototype.compareTo=a.prototype.compare,p.prototype.compare=function(t){if(t===1/0)return -1;if(t===-1/0)return 1;var e=this.value,r=R(t).value;return e===r?0:e>r?1:-1},p.prototype.compareTo=p.prototype.compare,u.prototype.equals=function(t){return 0===this.compare(t)},p.prototype.eq=p.prototype.equals=a.prototype.eq=a.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(t){return 0!==this.compare(t)},p.prototype.neq=p.prototype.notEquals=a.prototype.neq=a.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(t){return this.compare(t)>0},p.prototype.gt=p.prototype.greater=a.prototype.gt=a.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(t){return 0>this.compare(t)},p.prototype.lt=p.prototype.lesser=a.prototype.lt=a.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},p.prototype.geq=p.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(t){return 0>=this.compare(t)},p.prototype.leq=p.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(1&this.value[0])==0},a.prototype.isEven=function(){return(1&this.value)==0},p.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(1&this.value[0])==1},a.prototype.isOdd=function(){return(1&this.value)==1},p.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},a.prototype.isPositive=function(){return this.value>0},p.prototype.isPositive=a.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},a.prototype.isNegative=function(){return this.value<0},p.prototype.isNegative=a.prototype.isNegative,u.prototype.isUnit=function(){return!1},a.prototype.isUnit=function(){return 1===Math.abs(this.value)},p.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},a.prototype.isZero=function(){return 0===this.value},p.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(t){var e=R(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},p.prototype.isDivisibleBy=a.prototype.isDivisibleBy=u.prototype.isDivisibleBy,u.prototype.isPrime=function(t){var e=x(this);if(void 0!==e)return e;var n=this.abs(),o=n.bitLength();if(o<=64)return O(n,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var i=Math.log(2)*o.toJSNumber(),u=Math.ceil(!0===t?2*Math.pow(i,2):i),a=[],p=0;p<u;p++)a.push(r(p+2));return O(n,a)},p.prototype.isPrime=a.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(e,n){var o=x(this);if(void 0!==o)return o;for(var i=this.abs(),u=e===t?5:e,a=[],p=0;p<u;p++)a.push(r.randBetween(2,i.minus(2),n));return O(i,a)},p.prototype.isProbablePrime=a.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(t){for(var e,n,o,i=r.zero,u=r.one,a=R(t),p=this.abs();!p.isZero();)e=a.divide(p),n=i,o=a,i=u,a=p,u=n.subtract(e.multiply(u)),p=o.subtract(e.multiply(p));if(!a.isUnit())throw Error(this.toString()+" and "+t.toString()+" are not co-prime");return(-1===i.compare(0)&&(i=i.add(t)),this.isNegative())?i.negate():i},p.prototype.modInv=a.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var t=this.value;return this.sign?_(t,1,this.sign):new u(d(t,1),this.sign)},a.prototype.next=function(){var t=this.value;return t+1<0x20000000000000?new a(t+1):new u(e,!1)},p.prototype.next=function(){return new p(this.value+BigInt(1))},u.prototype.prev=function(){var t=this.value;return this.sign?new u(d(t,1),!0):_(t,1,this.sign)},a.prototype.prev=function(){var t=this.value;return t-1>-0x20000000000000?new a(t-1):new u(e,!0)},p.prototype.prev=function(){return new p(this.value-BigInt(1))};for(var I=[1];2*I[I.length-1]<=1e7;)I.push(2*I[I.length-1]);var L=I.length,T=I[L-1];function A(t){return 1e7>=Math.abs(t)}function P(t,e,n){e=R(e);for(var o=t.isNegative(),i=e.isNegative(),u=o?t.not():t,a=i?e.not():e,p=0,s=0,l=null,f=null,c=[];!u.isZero()||!a.isZero();)p=(l=M(u,T))[1].toJSNumber(),o&&(p=T-1-p),s=(f=M(a,T))[1].toJSNumber(),i&&(s=T-1-s),u=l[0],a=f[0],c.push(n(p,s));for(var v=0!==n(+!!o,+!!i)?r(-1):r(0),h=c.length-1;h>=0;h-=1)v=v.multiply(T).add(r(c[h]));return v}u.prototype.shiftLeft=function(t){var e=R(t).toJSNumber();if(!A(e))throw Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var r=this;if(r.isZero())return r;for(;e>=L;)r=r.multiply(T),e-=L-1;return r.multiply(I[e])},p.prototype.shiftLeft=a.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(t){var e,r=R(t).toJSNumber();if(!A(r))throw Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var n=this;r>=L;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(e=M(n,T))[1].isNegative()?e[0].prev():e[0],r-=L-1}return(e=M(n,I[r]))[1].isNegative()?e[0].prev():e[0]},p.prototype.shiftRight=a.prototype.shiftRight=u.prototype.shiftRight,u.prototype.not=function(){return this.negate().prev()},p.prototype.not=a.prototype.not=u.prototype.not,u.prototype.and=function(t){return P(this,t,function(t,e){return t&e})},p.prototype.and=a.prototype.and=u.prototype.and,u.prototype.or=function(t){return P(this,t,function(t,e){return t|e})},p.prototype.or=a.prototype.or=u.prototype.or,u.prototype.xor=function(t){return P(this,t,function(t,e){return t^e})},p.prototype.xor=a.prototype.xor=u.prototype.xor;function B(t){var e=t.value,r="number"==typeof e?0x40000000|e:"bigint"==typeof e?e|BigInt(0x40000000):e[0]+1e7*e[1]|0x40004000;return r&-r}function j(t,e){return t=R(t),e=R(e),t.greater(e)?t:e}function Z(t,e){return t=R(t),e=R(e),t.lesser(e)?t:e}function C(t,e){if(t=R(t).abs(),e=R(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,o=i[1];t.isEven()&&e.isEven();)r=Z(B(t),B(e)),t=t.divide(r),e=e.divide(r),o=o.multiply(r);for(;t.isEven();)t=t.divide(B(t));do{for(;e.isEven();)e=e.divide(B(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero())return o.isUnit()?t:t.multiply(o)}u.prototype.bitLength=function(){var t=this;return(0>t.compareTo(r(0))&&(t=t.negate().subtract(r(1))),0===t.compareTo(r(0)))?r(0):r(function t(e,n){if(0>=n.compareTo(e)){var o=t(e,n.square(n)),i=o.p,u=o.e,a=i.multiply(n);return 0>=a.compareTo(e)?{p:a,e:2*u+1}:{p:i,e:2*u}}return{p:r(1),e:0}}(t,r(2)).e).add(r(1))},p.prototype.bitLength=a.prototype.bitLength=u.prototype.bitLength;var G=function(t,e,r,o){r=r||n,t=String(t),o||(t=t.toLowerCase(),r=r.toLowerCase());var i,u=t.length,a=Math.abs(e),p={};for(i=0;i<r.length;i++)p[r[i]]=i;for(i=0;i<u;i++){var s=t[i];if("-"!==s&&s in p&&p[s]>=a){if("1"===s&&1===a)continue;throw Error(s+" is not a valid digit in base "+e+".")}}e=R(e);var l=[],f="-"===t[0];for(i=+!!f;i<t.length;i++){var s=t[i];if(s in p)l.push(R(p[s]));else if("<"===s){var c=i;do i++;while(">"!==t[i]&&i<t.length)l.push(R(t.slice(c+1,i)))}else throw Error(s+" is not a valid character")}return z(l,e,f)};function z(t,e,r){var n,o=i[0],u=i[1];for(n=t.length-1;n>=0;n--)o=o.add(t[n].times(u)),u=u.times(e);return r?o.negate():o}function Q(t,e){if((e=r(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var n=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return n.unshift([1]),{value:[].concat.apply([],n),isNegative:!1}}var o=!1;if(t.isNegative()&&e.isPositive()&&(o=!0,t=t.abs()),e.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:o};for(var i,u=[],a=t;a.isNegative()||a.compareAbs(e)>=0;){a=(i=a.divmod(e)).quotient;var p=i.remainder;p.isNegative()&&(p=e.minus(p).abs(),a=a.next()),u.push(p.toJSNumber())}return u.push(a.toJSNumber()),{value:u.reverse(),isNegative:o}}function U(t,e,r){var o=Q(t,e);return(o.isNegative?"-":"")+o.value.map(function(t){var e;return t<(e=(e=r)||n).length?e[t]:"<"+t+">"}).join("")}function D(t){if(s(+t)){var e=+t;if(e===h(e))return o?new p(BigInt(e)):new a(e);throw Error("Invalid integer: "+t)}var r="-"===t[0];r&&(t=t.slice(1));var n=t.split(/e/i);if(n.length>2)throw Error("Invalid integer: "+n.join("e"));if(2===n.length){var i=n[1];if("+"===i[0]&&(i=i.slice(1)),(i*=1)!==h(i)||!s(i))throw Error("Invalid integer: "+i+" is not a valid exponent.");var l=n[0],f=l.indexOf(".");if(f>=0&&(i-=l.length-f-1,l=l.slice(0,f)+l.slice(f+1)),i<0)throw Error("Cannot include negative exponent part for integers");l+=Array(i+1).join("0"),t=l}if(!/^([0-9][0-9]*)$/.test(t))throw Error("Invalid integer: "+t);if(o)return new p(BigInt(r?"-"+t:t));for(var v=[],g=t.length,y=g-7;g>0;)v.push(+t.slice(y,g)),(y-=7)<0&&(y=0),g-=7;return c(v),new u(v,r)}function R(t){if("number"==typeof t){if(o)return new p(BigInt(t));if(s(t)){if(t!==h(t))throw Error(t+" is not an integer.");return new a(t)}return D(t.toString())}return"string"==typeof t?D(t):"bigint"==typeof t?new p(t):t}u.prototype.toArray=function(t){return Q(this,t)},a.prototype.toArray=function(t){return Q(this,t)},p.prototype.toArray=function(t){return Q(this,t)},u.prototype.toString=function(e,r){if(e===t&&(e=10),10!==e||r)return U(this,e,r);for(var n,o=this.value,i=o.length,u=String(o[--i]);--i>=0;)n=String(o[i]),u+="0000000".slice(n.length)+n;return(this.sign?"-":"")+u},a.prototype.toString=function(e,r){return(e===t&&(e=10),10!=e||r)?U(this,e,r):String(this.value)},p.prototype.toString=a.prototype.toString,p.prototype.toJSON=u.prototype.toJSON=a.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,a.prototype.valueOf=function(){return this.value},a.prototype.toJSNumber=a.prototype.valueOf,p.prototype.valueOf=p.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var k=0;k<1e3;k++)i[k]=R(k),k>0&&(i[-k]=R(-k));return i.one=i[1],i.zero=i[0],i.minusOne=i[-1],i.max=j,i.min=Z,i.gcd=C,i.lcm=function(t,e){return t=R(t).abs(),e=R(e).abs(),t.divide(C(t,e)).multiply(e)},i.isInstance=function(t){return t instanceof u||t instanceof a||t instanceof p},i.randBetween=function(t,e,r){t=R(t);var n=r||Math.random,o=Z(t,e=R(e)),u=j(t,e).subtract(o).add(1);if(u.isSmall)return o.add(Math.floor(n()*u));for(var a=Q(u,1e7).value,p=[],s=!0,l=0;l<a.length;l++){var f=s?a[l]+(l+1<a.length?a[l+1]/1e7:0):1e7,c=h(n()*f);p.push(c),c<a[l]&&(s=!1)}return o.add(i.fromArray(p,1e7,!1))},i.fromArray=function(t,e,r){return z(t.map(R),R(e||10),r)},i}();void 0!==e&&e.hasOwnProperty("exports")&&(e.exports=r),"function"==typeof define&&define.amd&&define(function(){return r})}});function l(t){let e,r=0;return()=>{if(2===r)return e;if(1===r)throw Error("Binding demanded before initialized");return r=1,e=t(),r=2,e}}function f(){throw Error("Failed pattern match")}var c=(t,e)=>({tag:t,_1:e}),v=c("Nothing"),h=t=>c("Just",t),g=((t,e,r)=>((t,e,r,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let r of u(e))p.call(t,r)||void 0===r||o(t,r,{get:()=>e[r],enumerable:!(n=i(e,r))||n.enumerable});return t})(o(r=null!=t?n(a(t)):{},"default",{value:t,enumerable:!0}),t))(s(),0);function y(t){return(0,g.default)(t)}function d(t){return function(e){return t.add(e)}}function m(t){return function(e){return t.multiply(e)}}var _=function(t){return t.toString(10)},b={add:d,zero:y(0),mul:m,one:y(1)},w=function(t){return function(e){for(var r=e.length,n=Array(r),o=0;o<r;o++)n[o]=t(e[o]);return n}},N="function"==typeof Array.prototype.flatMap?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var r=[],n=t.length,o=0;o<n;o++)for(var i=e(t[o]),u=i.length,a=0;a<u;a++)r.push(i[a]);return r}},E=function(t,e,r,n){return r>=0&&r<n.length?t(n[r]):e},S=function(t,e,r){var n=t>=0&&t<r.length;return n&&(r[t]=e),n},q=(t=function(t,e,r,n){return n.splice.apply(n,[t,e].concat(r))},function(e){return function(r){return function(n){return function(o){return function(){return t(e,r,n,o)}}}}}),M=function(t){return function(e){return function(r){for(var n=e,o=r.length,i=o-1;i>=0;i--)n=t(r[i])(n);return n}}},J=function(t){return function(e){return function(r){for(var n=e,o=r.length,i=0;i<o;i++)n=t(n)(r[i]);return n}}},x=t=>t,O={foldr:M,foldl:J,foldMap:t=>{let e=t.mempty;return r=>O.foldr(e=>n=>t.Semigroup0().append(r(e))(n))(e)}},I=(t,e)=>({tag:"Tuple",_1:t,_2:e}),L=t=>e=>I(t,e),T=t=>t._2,A=t=>t._1,P=function(t){return function(e){return t===e}},B={eq:P},j={eq:P},Z=function(t){return function(e){return function(r){return function(n){return function(o){return n<o?t:n===o?e:r}}}}},C={compare:Z("LT")("EQ")("GT"),Eq0:()=>B},G={compare:Z("LT")("EQ")("GT"),Eq0:()=>j},z=function(t,e){for(var r=t>e?-1:1,n=Array(r*(e-t)+1),o=t,i=0;o!==e;)n[i++]=o,o+=r;return n[i]=o,n},Q="function"==typeof Array.prototype.fill?function(t,e){return t<1?[]:Array(t).fill(e)}:function(t,e){for(var r=[],n=0,o=0;o<t;o++)r[n++]=e;return r},U=function(t){return t.length},D=function(t,e,r,n){for(var o=0,i=n.length;o<i;o++)if(r(n[o]))return t(o);return e},R=function(t,e,r,n){for(var o=n.length-1;o>=0;o--)if(r(n[o]))return t(o);return e},k=function(t,e,r,n,o){if(r<0||r>=o.length)return e;var i=o.slice();return i[r]=n,t(i)},F=function(t,e){return e.filter(t)},V=function(t,e,r){var n;return r.length<2?r:(!function t(e,r,n,o,i,u){var a,p,s,l,f,c;for((a=i+(u-i>>1))-i>1&&t(e,r,o,n,i,a),u-a>1&&t(e,r,o,n,a,u),p=i,s=a,l=i;p<a&&s<u;)f=o[p],c=o[s],r(e(f)(c))>0?(n[l++]=c,++s):(n[l++]=f,++p);for(;p<a;)n[l++]=o[p++];for(;s<u;)n[l++]=o[s++]}(t,e,n=r.slice(0),r.slice(0),0,r.length),n)},Y=function(t,e,r){for(var n=e.length<r.length?e.length:r.length,o=Array(n),i=0;i<n;i++)o[i]=t(e[i])(r[i]);return o},$=function(t,e){for(var r=e.length,n=0;n<r;n++)if(t(e[n]))return!0;return!1},H=function(t,e){for(var r=e.length,n=0;n<r;n++)if(!t(e[n]))return!1;return!0},K=t=>e=>r=>Y(t,e,r),W=t=>e=>V(t,t=>"GT"===t?1:"EQ"===t?0:"LT"===t?-1:void f(),e),X=t=>[t],tt=t=>{let e,r=(e=e=>r=>"EQ"===t(e)(r),t=>{let r=[],n={tag:"Iterator",_1:e=>e>=0&&e<t.length?c("Just",t[e]):v,_2:{value:0}};return(t=>e=>()=>{let r=!1,n=t._2;for(;!r;){let o=n.value,i=n.value;n.value=i+1|0;let u=t._1(o);if("Just"===u.tag){e(u._1)();continue}if("Nothing"===u.tag){r=!0;continue}f()}})(n)(t=>()=>{let o,i=[];i.push(t),(o=e(t),t=>e=>()=>{let r=!1,n=t._2;for(;!r;){let i=n.value,u=t._1(i);if("Just"===u.tag&&o(u._1)){e.push(u._1),t._2.value;let r=t._2.value;t._2.value=r+1|0;continue}r=!0}})(n)(i)(),r.push(i)})(),r});return e=>r(W(t)(e))},te=t=>e=>{let r=D(h,v,t,e);return"Just"===r.tag?c("Just",e[r._1]):v},tr=t=>e=>H(t,e),tn={unfoldr1:(e=t=>"Nothing"===t.tag||"Just"!==t.tag&&void f(),function(t){return function(r){return function(n){return function(o){return function(i){for(var u=[],a=i;;){var p=o(a);u.push(r(p));var s=n(p);if(e(s))return u;a=t(s)}}}}}})(t=>{if("Just"===t.tag)return t._1;f()})(A)(T)},to=function(t,e){for(var r=e[e.length-1],n=e.length-2;n>=0;n--)r=t(e[n])(r);return r},ti=function(t,e){for(var r=e[0],n=e.length,o=1;o<n;o++)r=t(r)(e[o]);return r},tu={foldMap1:t=>{let e=t.append;return t=>{let r=w(t),n=tu.foldl1(e);return t=>n(r(t))}},foldr1:t=>e=>to(t,e),foldl1:t=>e=>ti(t,e),Foldable0:()=>O},ta={ff:!1,tt:!0,implies:t=>e=>ta.disj(ta.not(t))(e),conj:function(t){return function(e){return t&&e}},disj:function(t){return function(e){return t||e}},not:function(t){return!t}},tp=(t,e,r)=>({tag:t,_1:e,_2:r}),ts=tp("Nil"),tl=(t,e,r,n,o,i,u)=>({tag:t,_1:e,_2:r,_3:n,_4:o,_5:i,_6:u}),tf=tl("Leaf"),tc=(t,e,r,n)=>{if("Leaf"===r.tag){if("Leaf"===n.tag)return tl("Node",1,1,t,e,r,n);if("Node"===n.tag)return tl("Node",1+n._1|0,1+n._2|0,t,e,r,n);f()}if("Node"===r.tag){if("Leaf"===n.tag)return tl("Node",1+r._1|0,1+r._2|0,t,e,r,n);if("Node"===n.tag)return tl("Node",r._1>n._1?1+r._1|0:1+n._1|0,(1+r._2|0)+n._2|0,t,e,r,n)}f()},tv=(t,e,r,n)=>{if("Leaf"===r.tag)return"Leaf"===n.tag?tl("Node",1,1,t,e,tf,tf):"Node"===n.tag&&n._1>1?"Node"===n._5.tag&&("Leaf"===n._6.tag?n._5._1>0:"Node"===n._6.tag?n._5._1>n._6._1:void f())?tc(n._5._3,n._5._4,tc(t,e,r,n._5._5),tc(n._3,n._4,n._5._6,n._6)):tc(n._3,n._4,tc(t,e,r,n._5),n._6):tc(t,e,r,n);if("Node"===r.tag){if("Node"===n.tag)return n._1>(r._1+1|0)?"Node"===n._5.tag&&("Leaf"===n._6.tag?n._5._1>0:"Node"===n._6.tag?n._5._1>n._6._1:void f())?tc(n._5._3,n._5._4,tc(t,e,r,n._5._5),tc(n._3,n._4,n._5._6,n._6)):tc(n._3,n._4,tc(t,e,r,n._5),n._6):r._1>(n._1+1|0)?"Node"===r._6.tag&&("Leaf"===r._5.tag?0<=r._6._1:"Node"===r._5.tag?r._5._1<=r._6._1:void f())?tc(r._6._3,r._6._4,tc(r._3,r._4,r._5,r._6._5),tc(t,e,r._6._6,n)):tc(r._3,r._4,r._5,tc(t,e,r._6,n)):tc(t,e,r,n);return"Leaf"===n.tag&&r._1>1?"Node"===r._6.tag&&("Leaf"===r._5.tag?0<=r._6._1:"Node"===r._5.tag?r._5._1<=r._6._1:void f())?tc(r._6._3,r._6._4,tc(r._3,r._4,r._5,r._6._5),tc(t,e,r._6._6,n)):tc(r._3,r._4,r._5,tc(t,e,r._6,n)):tc(t,e,r,n)}f()},th={eq:t=>e=>t===e},tg={compare:t=>e=>C.compare(t)(e),Eq0:()=>th};String.fromCharCode(65535),Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY;var ty=function(t){var e=null;return function(){return void 0===t||(e=t(),t=void 0),e}},td=function(t){return t()},tm={tabulate:t=>{let e=t=>r=>{if("Nil"===t.tag)return r._1;if("Cons"===t.tag){if(!t._1){let n=r._2,o=e(t._2);return ty(t=>td(o(td(n))))}if(t._1){let n=r._3,o=e(t._2);return ty(t=>td(o(td(n))))}}f()},r=e=>{let n;return n=ty(r=>t(e)),{tag:"NatTrie",_1:n,_2:ty(t=>r(2*e|0)),_3:ty(t=>r((2*e|0)+1|0))}},n=r(0),o=t=>{let e=ts,r=t,n=!0,o;for(;n;){let t=e,i=r;if(0===i){n=!1,o=t;continue}e=tp("Cons",(1&i)!=0,t),r=i>>>1}return o};return t=>e(o(t))(n)}},t_=(t,e,r)=>({tag:t,_1:e,_2:r}),tb=t_("Nil"),tw={map:t=>e=>ty(r=>{let n=td(e);return"Nil"===n.tag?tb:"Cons"===n.tag?t_("Cons",t(n._1),tw.map(t)(n._2)):void f()})},tN=t=>{let e;return e=td(t),t=>{let r=e,n=t,o=!0,i;for(;o;){let t=r,e=n;if("Nil"===t.tag){o=!1,i=v;continue}if("Cons"===t.tag){if(0===e){o=!1,i=c("Just",t._1);continue}r=td(t._2),n=e-1|0;continue}f()}return i}},tE=t=>t,tS=(()=>{let t=l(()=>(t=>{let e,r=(e=(t=>({tabulate:e=>{let r=tm.tabulate(r=>t.tabulate(t=>e(I(r,t))));return t=>{let e=t._2,n=r(t._1);return ty(t=>td(td(n)(e)))}}}))(t),t=>{let r=e.tabulate(t);return t=>td(r(t))});return t=>{let e=r(e=>t(e._1)(e._2));return t=>r=>e(I(t,r))}})(tm)(e=>r=>0===e?[[]]:N(z(r,1))(r=>w(t=>[r,...t])(t()(e-r|0)((t=>e=>{let r=G.compare(t)(e);return"LT"===r||"EQ"===r?t:"GT"===r?e:void f()})(e-r|0)(r)))))),e=t();return t=>t<0?[]:e(t)(t)})(),tq=t=>e=>{if(0===t)return[[]];if(e.length===t)return[e];if(e.length<t)return[];if(1===t)return w(X)(e);let r=function(t,e,r){return 0===r.length?t({}):e(r[0])(r.slice(1))}(t=>v,t=>e=>c("Just",{head:t,tail:e}),e);if("Just"===r.tag){let e=r._1.head;return[...w(t=>[e,...t])(tq(t-1|0)(r._1.tail)),...tq(t)(r._1.tail)]}return[]},tM=(()=>{let t,e=(t=t=>Y(d,[b.one,...t],t[0].isOdd()?[...t,t[t.length-1|0]]:t),e=>{let r=l(()=>ty(n=>td((()=>{let n=tw.map(t)(r());return ty(t=>t_("Cons",e,n))})())));return r()})([y(2)]);return t=>r=>{let n=t,o=r,i=!0,u;for(;i;){let t=n,r=o;if(t<0||t<r){i=!1,u=b.zero;continue}if((t-r|0)<r){n=t,o=t-r|0;continue}if(0===r){i=!1,u=b.one;continue}if(1===r){i=!1,u=y(t);continue}let a=tN(e)(t-2|0),p=r-1|0;if("Just"===a.tag){if(p>=0&&p<a._1.length){i=!1,u=a._1[p];continue}i=!1,u=b.zero;continue}if("Nothing"===a.tag){i=!1,u=b.zero;continue}f()}return u}})(),tJ=(t=>O.foldMap((()=>{let e={append:e=>r=>t.conj(e)(r)};return{mempty:t.tt,Semigroup0:()=>e}})())(x))(ta),tx=t=>e=>t>=e,tO=(t=>t.foldl(t=>e=>(t=>e=>{let r=n=>{if("Leaf"===n.tag)return tl("Node",1,1,t,e,tf,tf);if("Node"===n.tag){let o=G.compare(t)(n._3);if("LT"===o)return tv(n._3,n._4,r(n._5),n._6);if("GT"===o)return tv(n._3,n._4,n._5,r(n._6));if("EQ"===o)return tl("Node",n._1,n._2,t,e,n._5,n._6)}f()};return r})(e._1)(e._2)(t))(tf))(O),tI=(t=>tn.unfoldr1(e=>I(e,(()=>{var r;let n=R(h,v,tE,Y(e=>r=>"GT"===t.compare(e)(r),e,(r=e.length,e.slice(1,r))));if("Just"===n.tag){if(n._1>=0&&n._1<e.length){let r=e[n._1],o=R(h,v,e=>"GT"===t.compare(r)(e),e);if("Just"===o.tag){let t=o._1;return c("Just",(()=>{let r=[...e];(t=>e=>r=>()=>{let n=E(h,v,t,r),o=E(h,v,e,r);"Just"===n.tag&&"Just"===o.tag&&(S(t,o._1,r),S(e,n._1,r))})(n._1)(t)(r)();let o=n._1+1|0,i=e.length-1|0;if(o>=i);else{let t=q(o)((i-o|0)+1|0)([])(r)();q(o)(0)(t.slice().reverse())(r)()}return r})())}if("Nothing"===o.tag)return v;f()}return v}if("Nothing"===n.tag)return v;f()})())))(G),tL=t=>e=>{let r=G.compare(t)(e);return"LT"===r||"EQ"===r?t:"GT"===r?e:void f()},tT=J(m)(b.one),tA=t=>{let e={append:e=>r=>t.add(e)(r)};return O.foldMap({mempty:t.zero,Semigroup0:()=>e})},tP=tA({add:function(t){return function(e){return t+e|0}},zero:0,mul:function(t){return function(e){return t*e|0}},one:1}),tB=tA(b),tj=(()=>{let t=K(t=>{let e=t.max,r=t.min;return t=>t.min<=r&&e<=t.max}),e=tt((()=>{let t=(t=>{var e;let r={eq:(e=t.Eq0().eq,function(t){return function(r){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!e(t[n])(r[n]))return!1;return!0}})};return{compare:e=>r=>{var n;return G.compare(0)((n=e=>r=>{let n=t.compare(e)(r);return"EQ"===n?0:"LT"===n?1:"GT"===n?-1:void f()},function(t){return function(e){for(var r=0,o=t.length,i=e.length;r<o&&r<i;){var u=t[r],a=e[r],p=n(u)(a);if(0!==p)return p;r++}return o===i?0:o>i?-1:1}})(e)(r))},Eq0:()=>r}})(tg),e=w(t=>t.card.id);return r=>n=>t.compare(e(r))(e(n))})()),r=M(e=>r=>{if($((()=>{let r=t(e);return t=>tJ(r(t))})(),r))return r;let n=D(h,v,r=>tJ(t(r)(e)),r);if("Just"===n.tag){let t=k(h,v,n._1,e,r);if("Nothing"===t.tag)return[];if("Just"===t.tag)return t._1;f()}if("Nothing"===n.tag)return[e,...r];f()})([]);return t=>N(e(t))(r)})(),tZ=t=>e=>{let r=t.length,n=F((()=>{let e=K(tx)(W(t=>e=>G.compare(e)(t))(w(t=>t.count)(t)));return t=>t.length<=r&&tJ(e(t))})(),e),o=tO(w(e=>I(e,tq(e)(t)))((t=>e=>{let r=W(e=>r=>t(e._2)(r._2))(function(t){for(var e=t.length,r=Array(e),n=0;n<e;n++)r[n]=L(n)(t[n]);return r}(e));if(0<r.length)return w(T)((t=>W(e=>r=>G.compare(t(e))(t(r))))(A)((()=>{let e=[r[0]];for(let n of r){let r=t((()=>{let t=e.length-1|0;if(t>=0&&t<e.length)return e[t]._2;f()})())(n._2);("LT"===r||"GT"===r||"EQ"!==r)&&e.push(n)}return e})()));return[]})(G.compare)(w(U)(n))));return N(n)(t=>{var e;let r=(e=t.length,t=>{let r=t,n=!0,o;for(;n;){let t=r;if("Leaf"===t.tag){n=!1,o=v;continue}if("Node"===t.tag){let i=G.compare(e)(t._3);if("LT"===i){r=t._5;continue}if("GT"===i){r=t._6;continue}if("EQ"===i){n=!1,o=c("Just",t._4);continue}}f()}return o})(o),n="Nothing"===r.tag?[]:"Just"===r.tag?r._1:void f();return N(tI(t))(t=>F(tr(t=>t.draw<=t.card.count),w(K(t=>e=>({draw:t,card:e}))(t))(n)))})},tC=tr(t=>t.min<=t.max&&t.min<=t.card.count);(r=t=>{var e;let r=t.data,n=(e=_((t=>e=>{let r,n=tj(N(e)((r=t.cards,t=>ti(t=>e=>N(t)(t=>N(e)(e=>{let r=(e=>w(tu.foldl1(t=>e=>({card:t.card,min:t.min+e.min|0,max:tL(t.max)(e.max)})))(tt(t=>e=>C.compare(t.card.id)(e.card.id))([...t,...e])))(e);return tC(r)?[r]:[]})),w(t=>{let e,n=t.cards,o=F(t=>(t=>e=>{let r=D(h,v,e=>th.eq(e)(t),e);return"Nothing"!==r.tag&&("Just"===r.tag||void f())})(t.id)(n),r);return w((e=t=>0!==t.min||t.max!==t.card.count,t=>F(e,t)))("AtLeast"===t.mode?w(t=>w(t=>({card:t.card,min:t.draw,max:t.card.count}))(t))(tZ(o)(tS(t.count))):"JustDraw"===t.mode?w(t=>w(e=>{let r=te(t=>t.card.id===e.id)(t),n="Nothing"===r.tag?0:"Just"===r.tag?r._1.draw:void f();return{card:e,min:n,max:n}})(o))(tZ(o)(tS(t.count))):"Remains"===t.mode?w(t=>w(e=>({card:e,min:0,max:(()=>{let r=te(t=>t.card.id===e.id)(t);return"Nothing"===r.tag?0:"Just"===r.tag?r._1.draw:void f()})()}))(o))(tZ(o)(tS(tP(t=>t.count)(o)-t.count|0))):"JustRemains"===t.mode?w(t=>w(e=>{let r=te(t=>t.card.id===e.id)(t),n="Nothing"===r.tag?0:"Just"===r.tag?r._1.draw:void f();return{card:e,min:n,max:n}})(o))(tZ(o)(tS(tP(t=>t.count)(o)-t.count|0))):"Choice"===t.mode?w(t=>w(t=>({card:t.card,min:1,max:t.card.count}))(t))(tZ(o)([Q(t.count,1)])):"LeftOne"===t.mode?w(t=>w(t=>({card:t.card,min:0,max:t.card.count-1|0}))(t))(tZ(o)([Q(t.count,1)])):"LeftAll"===t.mode?w(t=>w(t=>({card:t.card,min:0,max:0}))(t))(tZ(o)([Q(t.count,0)])):void f())})(t)))));return tB((t=>e=>m(tT(w(t=>tM(t.card.count)(t.draw))(e)))(tM(t.others)(t.hand-tP(t=>t.draw)(e)|0)))(t))(F(t=>$(tr(e=>{let r=e.card.id,n=te(t=>t.card.id===r)(t),o="Nothing"===n.tag?0:"Just"===n.tag?n._1.draw:void f();return e.min<=o&&o<=e.max}),n),(t=>{let e;return N(z(tL(t.hand)(tP(t=>t.count)(t.cards)),(t=>{let e=G.compare(0)(t);return"LT"===e?t:"EQ"===e||"GT"===e?0:void f()})(t.hand-t.others|0)))((e=t.cards,t=>tZ(e)(tS(t))))})(t)))})(r.deck)(r.condition)),function(t){return function(){self.postMessage(e,t.length>0?t:void 0)}})([]);return()=>(n(),void self.close())},function(){self.onmessage=function(t){r(t)()}})()})();
//# sourceMappingURL=worker.js.map
